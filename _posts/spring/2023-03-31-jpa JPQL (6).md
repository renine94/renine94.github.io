---
layout: single

header:
  teaser: /assets/images/logo/spring.png
  overlay_image: /assets/images/logo/spring.png
  overlay_filter: linear-gradient(rgba(255, 0, 0, 0.5), rgba(0, 255, 255, 0.5))
  caption: "Photo credit: [**Unsplash**](https://unsplash.com)"
  actions:
    - label: "Github"
      url: "https://github.com/renine94"

title: "[spring] ìŠ¤í”„ë§ JPA ê°ì²´ì§€í–¥ ì¿¼ë¦¬ì–¸ì–´ JPQL - ì¡°ê±´ì‹ê³¼ í•¨ìˆ˜"
excerpt: "ğŸš€ spring, JPA, JPQL, ì¡°ê±´ì‹, JPQLí•¨ìˆ˜"

categories: spring
tag: [spring, model, jpa, jpql, case]

toc: true
toc_label: "ğŸ“• ëª©ì°¨"
toc_icon: "null"
toc_sticky: true

sidebar:
  nav: "docs"


---

# ê°ì²´ì§€í–¥ ì¿¼ë¦¬ ì–¸ì–´6 - ì¡°ê±´ì‹ê³¼ JPQLí•¨ìˆ˜

- ì†Œê°œ
- ê¸°ë³¸ ë¬¸ë²•ê³¼ ì¿¼ë¦¬API
- í”„ë¡œì ì…˜(SELECT)
- í˜ì´ì§•
- ì¡°ì¸
- ì„œë¸Œ ì¿¼ë¦¬
- JPQL íƒ€ì… í‘œí˜„ê³¼ ê¸°íƒ€ì‹
- **ì¡°ê±´ì‹ (CASE ë“±ë“±)**
- **JPQL í•¨ìˆ˜**

<br><br>

## 01. ì¡°ê±´ì‹ - CASE ì‹

- ê¸°ë³¸ CASE ì‹

```sql
SELECT
	CASE WHEN m.age <= 10 THEN 'í•™ìƒìš”ê¸ˆ'
	     WHEN m.age >= 60 THEN 'ê²½ë¡œìš”ê¸ˆ'
	     ELSE 'ì¿ë°˜ìš”ê¸ˆ'
	END
FROM Member m
```



- ë‹¨ìˆœ CASE ì‹

```sql
SELECT
	CASE t.name
		WHEN 'íŒ€A' THEN 'ì¸ì„¼í‹°ë¸Œ110%'
		WHEN 'íŒ€B' THEN 'ì¸ì„¼í‹°ë¸Œ120%'
		ELSE 'ì¸ì„¼í‹°ë¸Œ105%'
	END
FROM Team t
```



- COALESCE

í•˜ë‚˜ì”© ì¡°íšŒí•´ì„œ null ì´ ì•„ë‹ˆë©´ ë°˜í™˜

```sql
SELECT
	COALESCE(m.username, "ì´ë¦„ ì—†ëŠ” íšŒì›")
FROM Member m
```



- NULLIF

ë‘ ê°’ì´ ê°™ìœ¼ë©´ null ë°˜í™˜, ë‹¤ë¥´ë©´ ì²«ë²ˆì§¸ ê°’ ë°˜í™˜

ì˜ˆì‹œ - **ê´€ë¦¬ìì˜ ì´ë¦„ì„ ìˆ¨ê¸°ê³  ì‹¶ì„ ë•Œ** ì‚¬ìš©í•  ìˆ˜ ìˆìŒ

```sql
SELECT
	NULLIF(m.username, "ê´€ë¦¬ì")  -- m.usernameì´ "ê´€ë¦¬ì" ì´ë©´ null ë¡œ ë‚˜ì˜¤ê²Œ ëœë‹¤.
FROM Member m
```








## 02. JPQL ê¸°ë³¸ í•¨ìˆ˜

- CONCAT
- SUBSTRING
- TRIM
- LOWER, UPPER
- LENGTH
- LOCATE
- ABS, SQRT, MOD
- SIZE, INDEX(JPA ìš©ë„)











