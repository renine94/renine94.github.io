---
layout: single

header:
  teaser: /assets/images/logo/spring.png
  overlay_image: /assets/images/logo/spring.png
  overlay_filter: linear-gradient(rgba(255, 0, 0, 0.5), rgba(0, 255, 255, 0.5))
  caption: "Photo credit: [**Unsplash**](https://unsplash.com)"
  actions:
    - label: "Github"
      url: "https://github.com/renine94"

title: "[spring] ìŠ¤í”„ë§ JPA ê°ì²´ì§€í–¥ ì¿¼ë¦¬ì–¸ì–´ JPQL - í”„ë¡œì ì…˜"
excerpt: "ğŸš€ spring, JPA, JPQL, í”„ë¡œì ì…˜"

categories: spring
tag: [spring, model, jpa, jpql]

toc: true
toc_label: "ğŸ“• ëª©ì°¨"
toc_icon: "null"
toc_sticky: true

sidebar:
  nav: "docs"


---

# ê°ì²´ì§€í–¥ ì¿¼ë¦¬ ì–¸ì–´3 - í”„ë¡œì ì…˜

- ì†Œê°œ
- ê¸°ë³¸ ë¬¸ë²•ê³¼ ì¿¼ë¦¬API
- **í”„ë¡œì ì…˜(SELECT)**
- í˜ì´ì§•
- ì¡°ì¸
- ì„œë¸Œ ì¿¼ë¦¬
- JPQL íƒ€ì… í‘œí˜„ê³¼ ê¸°íƒ€ì‹
- ì¡°ê±´ì‹ (CASE ë“±ë“±)
- JPQL í•¨ìˆ˜

<br><br>



## 01. í”„ë¡œì ì…˜

- SELECT ì ˆì— ì¡°íšŒí•  ëŒ€ìƒì„ ì§€ì •í•˜ëŠ” ê²ƒ
- í”„ë¡œì ì…˜ ëŒ€ìƒ: Entity, Embedded, Scalar íƒ€ì… (ìˆ«ì, ë¬¸ì ë“± ê¸°ë³¸ ë°ì´í„° íƒ€ì…)
- ì—”í‹°í‹° í”„ë¡œì ì…˜
  - `SELECT m FROM Member m`
- ì—”í‹°í‹° í”„ë¡œì ì…˜
  - `SELECT m.team FROM Member m`
- ì„ë² ë””ë“œ íƒ€ì… í”„ë¡œì ì…˜
  - `SELECT m.address FROM Member m` 
- ìŠ¤ì¹¼ë¼ íƒ€ì… í”„ë¡œì ì…˜
  - `SELECT m.username, m.age FROM Member m`
- DISTINCTë¡œ ì¤‘ë³µ ì œê±°



- ì¡°ì¸ì„ ëª…ì‹œì ìœ¼ë¡œ í‘œí˜„í•´ì£¼ëŠ”ê²Œ ì¢‹ë‹¤.
  - ëª…ì‹œì  ì¡°ì¸
  - ë¬µì‹œì  ì¡°ì¸

```java
List<Member> result = em.createQuery("SELECT m FROM Member m", Member.class);  // ë¦¬ìŠ¤íŠ¸ì— ë‹´ê²¨ìˆëŠ” Memberë“¤ ëª¨ë‘ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¡œ ê´€ë¦¬ëœë‹¤!

// 1ë²ˆ ë°©ë²• (Bad)
List<Team> result = em.createQuery("SELECT m.team FROM Member m", Team.class);
// 2ë²ˆ ë°©ë²• (Good) - ëª…ì‹œì ìœ¼ë¡œ ì¡°ì¸ë¬¸ìœ¼ë¡œ í•œëˆˆì— í™•ì¸í•˜ëŠ”ê²Œ ì¢‹ë‹¤. (íŠœë‹ìš”ì†Œê°€ ë§ìŒ)
List<Team> result = em.createQuery("SELECT t FROM Member m JOIN m.team t", Team.class);

```





## 02. í”„ë¡œì ì…˜ - ì—¬ëŸ¬ ê°’ ì¡°íšŒ

- `SELECT m.username, m.age FROM Member m` 

- Query íƒ€ì…ìœ¼ë¡œ ì¡°íšŒ

- Object[] íƒ€ì…ìœ¼ë¡œ ì¡°íšŒ

- new ëª…ë ¹ì–´ë¡œ ì¡°íšŒ

  - ë‹¨ìˆœ ê°’ì„ DTOë¡œ ë°”ë¡œ ì¡°íšŒ

  - ```java
    SELECT new jpabook.jpql.UserDTO(m.username, m.age) FROM Member m
    ```

  - íŒ¨í‚¤ì§€ ëª…ì„ í¬í•¨í•œ ì „ì²´ í´ë˜ìŠ¤ ëª… ì…ë ¥

  - ìˆœì„œì™€ íƒ€ì…ì´ ì¼ì¹˜í•˜ëŠ” ìƒì„±ì í•„ìš”





































