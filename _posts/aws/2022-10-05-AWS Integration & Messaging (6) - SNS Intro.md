---
layout: single

header:
  teaser: /assets/images/logo/aws.png
  overlay_image: /assets/images/logo/aws.png
  overlay_filter: linear-gradient(rgba(255, 0, 0, 0.5), rgba(0, 255, 255, 0.5))
  caption: "Photo credit: [**Unsplash**](https://unsplash.com)"
  actions:
    - label: "Github"
      url: "https://github.com/renine94"

title: "[aws] Integration & Messaging (6) - SNS Intro"
excerpt: "π€ Simple Notification Service, Pub/Sub, message"

categories: aws
tag: [aws, sns, pub/sub, message]

toc: true
toc_label: "π“• λ©μ°¨"
toc_icon: "null"
toc_sticky: true

sidebar:
  nav: "docs"


---

# Amazon SNS 

- λ©”μ‹μ§€ ν•λ‚λ¥Ό μ—¬λ¬ μμ‹ μμ—κ² λ³΄λ‚Έλ‹¤κ³  κ°€μ •
- μ΄λ° κ²½μ° μ§μ ‘ ν†µν•© (Direct Integration) μ“Έ μ μλ‹¤.
- κµ¬λ§¤ μ„λΉ„μ¤ Appμ„ μλ΅ λ“¤λ©΄ μ΄λ©”μΌ μ•λ¦Όμ„ λ³΄λ‚΄κ³  μ‚¬κΈ°νƒμ§€ μ„λΉ„μ¤μ™€ λ°°μ†΅ μ„λΉ„μ¤ κ·Έλ¦¬κ³  SQSλ€κΈ°μ—΄μ—λ„ λ©”μ‹μ§€λ¥Ό λ³΄λ‚Ό μ μμµλ‹λ‹¤.
- ν•μ§€λ§ μμ‹  μ„λΉ„μ¤λ¥Ό μƒλ΅ μ¶”κ°€ν•  λ•λ§λ‹¤ ν†µν•©μ„ μƒμ„±ν•κ³  μ‘μ„±ν•΄μ•Ό ν•λ―€λ΅ λ²κ±°λ΅μΈ μ μλ‹¤.
- λ€μ‹  Pub/Sub μ¦‰, κ²μ‹/κµ¬λ… μ΄λΌλ” κ²ƒμ„ μ‚¬μ©ν•  μ μλ‹¤.
  - λ§μ€ κµ¬λ…μ(subscriber) κ°€ μμΌλ©°, κ° κµ¬λ…μλ” SNS Topic μ—μ„ ν•΄λ‹Ή messageλ¥Ό μμ‹ ν•κ³  λ³΄κ΄€ν•  μ μλ‹¤.
  - pub/sub ν¨ν„΄μ΄λΌκ³  ν•λ‹¤.

![image-20221005021616018](../../assets/images/posts/2022-10-05-AWS Integration & Messaging (6) - SNS Intro//image-20221005021616018.png)



Pub/Sub

- "μ΄λ²¤νΈ μƒμ‚°μ"λ” ν•λ‚μ SNS Topic μ—λ§ λ©”μ‹μ§€λ¥Ό λ³΄λ‚Έλ‹¤.
- "μ΄λ²¤νΈ μμ‹ μ" λλ” κµ¬λ…μλ” ν•΄λ‹Ή Topicκ³Ό κ΄€λ ¨ν• SNS μ•λ¦Όμ„ λ°›μΌλ ¤λ” μ‚¬λorμ„λΉ„μ¤ μ΄λ‹¤.
  - SNS Topic κµ¬λ…μλ” ν•΄λ‹Ή μ£Όμ λ΅ μ „μ†΅λ λ©”μ‹μ§€λ¥Ό λ¨λ‘ λ°›κ² λλ‹¤.
  - λ©”μ‹μ§€λ¥Ό ν•„ν„°λ§ν•λ” κΈ°λ¥μ„ μ‚¬μ©ν•λ” κ²½μ°μ—λ„ λ©”μ‹μ§€λ¥Ό λ°›μ„ μ μλ‹¤.
- SNS Topicλ³„ μµλ€ κµ¬λ…μ μλ” 1,200λ§μ΄μƒκΉμ§€ κ°€λ¥ν•λ‹¤.
- AWS κ³„μ •λ‹Ή κ°€μ§ μ μλ” Topic μλ” μµλ€ μ•½ 10λ§κ° (λ³€λ™λ  μ μμΌλ‹ λ€λµμ μ„)
- SNS μ—μ„ μ§μ ‘ μ΄λ©”μΌμ„ λ³΄λ‚Ό μλ„ μκ³ , λ¨λ°”μΌ μ•λ¦Όμ„ λ³΄λ‚Ό μλ„ μλ‹¤.
- μ§€μ •λ HTTP, HTTPS μ—”λ“ ν¬μΈνΈλ΅ μ§μ ‘ λ°μ΄ν„°λ¥Ό λ³΄λ‚Ό μλ„ μλ‹¤.
- SQSμ™€ κ°™μ€ νΉμ • AWSμ„λΉ„μ¤μ™€ ν†µν•©ν•μ—¬ λ©”μ‹μ§€λ¥Ό λ€κΈ°μ—΄λ΅ μ§μ ‘ λ³΄λ‚Όμλ„ μλ‹¤.
- λ©”μ‹μ§€λ¥Ό μμ‹ ν• ν›„ ν•¨μκ°€ μ½”λ“λ¥Ό μν–‰ν•λ„λ΅ Lambda μ— λ³΄λ‚΄κ±°λ‚ Firehoseλ¥Ό ν†µν•΄ λ°μ΄ν„°λ¥Ό S3 λ‚ RedShift λ΅ λ³΄λ‚Όμλ„ μλ‹¤.

![image-20221007123206551](../../assets/images/posts/2022-10-05-AWS Integration & Messaging (6) - SNS Intro//image-20221007123206551.png)



# SNS Integrates with a lot of AWS Services

> SNS λ” λ‹¤μ–‘ν• AWSμ„λΉ„μ¤μ—μ„ λ°μ΄ν„°λ¥Ό μμ‹ ν•κΈ°λ„ ν•©λ‹λ‹¤.

- λ§μ€ AWSμ„λΉ„μ¤λ“¤μ€ SNSλ΅ μ§μ ‘ λ°μ΄ν„°λ¥Ό λ³΄λ‚Ό μ μλ‹¤.
- μ•„λμ μ‚¬μ§„κ³Ό κ°™μ΄ μ—¬λ¬κ°€μ§€ μ„λΉ„μ¤μ—μ„ SNSλ΅ λ©”μ‹μ§€λ¥Ό λ³΄λ‚Ό μ μλ‹¤.
- **AWSμ—μ„ μ•λ¦Όμ΄ λ°μƒν•λ©΄ μ΄λ¬ν• μ„λΉ„μ¤κ°€ μ§€μ •λ SNS TopicμΌλ΅ μ•λ¦Όμ„ λ³΄λ‚Έλ‹¤λ”κ²ƒλ§ κΈ°μ–µ**ν•λ©΄ λλ‹¤.

![image-20221007123447173](../../assets/images/posts/2022-10-05-AWS Integration & Messaging (6) - SNS Intro//image-20221007123447173.png)



# SNS - How to publish

> SNS Topicμ— λ°μ΄ν„°λ¥Ό κ²μ‹ν•λ” λ°©λ²•μ„ μ•μ•„λ³΄μ

- Topic Publish (using the SDK)
  - ν† ν”½ μƒμ„±
  - κµ¬λ… μƒμ„± (ν•λ‚ λλ” μ—¬λ¬κ°)
  - Topicμ— publish
- μ„μ™€ κ°™μ΄ ν•κ²λλ©΄ λ¨λ“  κµ¬λ…μκ°€ μλ™μΌλ΅ ν•΄λ‹Ή λ©”μ‹μ§€λ¥Ό λ°›κ² λλ‹¤.



- Direct Publish (for mobile apps SDK)
  - λ¨λ°”μΌ μ•± SDK μ „μ© μ§μ ‘ publish λ°©λ²•μ΄ μλ‹¤.
  - ν”λ«νΌ μ• ν”λ¦¬μΌ€μ΄μ… μƒμ„±ν• λ’¤,
  - ν”λ«νΌ μ—”λ“ν¬μΈνΈλ¥Ό μƒμ„±ν•κ³ ,
  - ν”λ«νΌ μ—”λ“ ν¬μΈνΈμ— publish ν•λ©΄ λλ‹¤.
  - μμ‹  κ°€λ¥ λ€μƒ (κµ¬λ…μ)
    - Google
    - GCM
    - Apple APNS
    - Amazon ADM 
- **λ¨λ‘ λ¨λ°”μΌ μ• ν”λ¦¬μΌ€μ΄μ…μΌλ΅ μ•λ¦Όμ„ μμ‹ ν•κ² λλ‹¤.**



# SNS - Security

> SNS λ³΄μ•μ— λ€ν•΄ μ•μ•„λ³΄μ
>
> λ³΄μ•μΈ΅λ©΄μ—μ„ SNSλ” SQSμ™€ λ™μΌν•λ‹¤.

- λ³΄μ•
  - HTTPS APIλ¥Ό μ‚¬μ©ν• μ „μ†΅μ¤‘ μ•”νΈν™”
  - KMS Keysλ¥Ό μ‚¬μ©ν• μ €μ¥λ°μ΄ν„° μ•”νΈν™”
  - ν΄λΌμ΄μ–ΈνΈκ°€ SNSμ— μ•”νΈν™”λ λ©”μ‹μ§€λ¥Ό λ³΄λ‚΄λ ¤λ” κ²½μ°λ¥Ό μ„ν• ν΄λΌμ΄μ–ΈνΈ μΈ΅ μ•”νΈν™”
    - μ•”νΈν™” λ° μ•”νΈ ν•΄λ…μ€ ν΄λΌμ΄μ–ΈνΈ λ«

<br>

- μ•΅μ„Έμ¤ μ μ–΄ (Access Control)
  - IAM μ •μ±… μ¤‘μ‹¬
  - λ¨λ“  SNS APIκ°€ IAM μ •μ±…μΌλ΅ κ·μ λλ‹¤.

<br>

- SNS μ•΅μ„Έμ¤ μ •μ±… (S3 λ²„ν‚· μ •μ±…κ³Ό λ§¤μ° μ μ‚¬ν•¨)
  - SNS Topicμ— κµμ°¨ κ³„μ • μ•΅μ„Έμ¤ κ¶ν•μ„ κ°–κ±°λ‚
  - S3 μ΄λ²¤νΈμ™€ κ°™μ€ μ„λΉ„μ¤κ°€ SNS μ£Όμ μ— μ‘μ„±ν•  μ μλ„λ΅ ν—μ©ν•λ ¤λ” κ²½μ° λ§¤μ° μ μ©





