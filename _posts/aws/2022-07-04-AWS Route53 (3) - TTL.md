---
layout: single

header:
  teaser: /assets/images/logo/aws.png
  overlay_image: /assets/images/logo/aws.png
  overlay_filter: linear-gradient(rgba(255, 0, 0, 0.5), rgba(0, 255, 255, 0.5))
  caption: "Photo credit: [**Unsplash**](https://unsplash.com)"
  actions:
    - label: "Github"
      url: "https://github.com/renine94"

title: "[aws] Route53 (3) - TTL"
excerpt: "π€ Route53, TTL, NSLOOKUP, DIG"

categories: aws
tag: [aws, route, ttl, nslookup, dig]

toc: true
toc_label: "π“• λ©μ°¨"
toc_icon: "null"
toc_sticky: true

sidebar:
  nav: "docs"






---

# Records TTL (Time To Live)

> Record λ” μμ£Ό λ°”λ€μ§€ μ•λ”λ‹¤.
>
> Client λ” TTL μ‹κ°„λ™μ• Caching ν•λ‹¤.

![image-20220704001709205](../../assets/images/posts/2022-07-04-AWS Route53 (3) - TTL/image-20220704001709205.png)

- High TTL
  - μλ¥Ό λ“¤μ–΄ 24μ‹κ°„μΌλ΅ μ„¤μ •ν•λ‹¤.
  - Route53 μ— μ μ€ νΈλν”½μ΄ λ°λ¦¬κ² λλ‹¤. (TTL μ΄ λ†’μ•„μ„)
  - ν΄λΌμ΄μ–ΈνΈκ°€ μ¤λλ Record λ¥Ό λ°›μ„ κ°€λ¥μ„±μ΄ μƒκΈ΄λ‹¤.
- Low TTL
  - μλ¥Ό λ“¤μ–΄ 60μ΄
  - Route53 μ— λ§μ€ νΈλν”½μ΄ λ°λ¦¬κ² λλ‹¤. (TTL μ΄ λ‚®μ•„μ„)
    - **λΉ„μ©μ΄ λ§μ΄ λ°μƒν•κ² λλ‹¤.**
    - Route53 μ€ λ“¤μ–΄μ¤λ” μ”μ²­μ μ–‘μ— λ”°λΌ μ”κΈμ΄ μ±…μ •λκΈ° λ•λ¬Έμ΄λ‹¤.
  - μ¤λλ Recordμ λ³΄κ΄€ κΈ°κ°„μ€ μ§§μ•„μ§„λ‹¤.
  - λ”°λΌμ„ λ μ½”λ“ λ³€κ²½μ΄ λΉ¨λΌμ§„λ‹¤.
- μ–΄λ–¤ TTL μ„¤μ •μ΄ μ ν•©ν•  μ§€λ” μƒν™©μ— λ”°λΌ λ‹¬λΌμ§„λ‹¤.



- Record λ¥Ό λ³€κ²½ν•λ ¤λ” κ²½μ°
  - TTL μ„ 24μ‹κ°„μΌλ΅ μ¬λ¦°ν›„, λ¨λ“  Client μ—κ² 24μ‹κ°„λ™μ• Caching μ„ μ‹ν‚¨λ’¤,
  - Record κ°’μ„ λ°”κΏ”μ„ λ¨λ‘μ—κ² μ—…λ°μ΄νΈκ°€ λλ©΄ TTL μ„ λ‚®μ¶”λ” λ°©μ‹ λ° μ „λµμ΄λ‹¤.
- **TTL μ€ λ¨λ“  Record μ— μμ–΄ ν•„μμ μ΄λ‹¤.**



## Terminal λ΅ TTL ν™•μΈν•κΈ°

![image-20220704003310426](../../assets/images/posts/2022-07-04-AWS Route53 (3) - TTL/image-20220704003310426.png)



- NSLOOKUP
  - renine94.github.io λΌλ” λ„λ©”μΈμ€ μ‹¤μ λ΅ 4κ°μ IPμ— μ—°κ²°λμ–΄ μλ‹¤.
    - 185.199.108.153
    - 185.199.110.153
    - 185.199.109.153
    - 185.199.111.153



![image-20220704003440948](../../assets/images/posts/2022-07-04-AWS Route53 (3) - TTL/image-20220704003440948.png)



- DIG
  - 1κ°μ DNS Queryλ¥Ό μ”μ²­λ³΄λƒμ„λ• 4κ°μ μ‘λ‹µμ„ λ°›λ”κ²ƒμ„ ν™•μΈν•  μ μλ‹¤.
  - 185.199.108~111.153 μΌλ΅ 4κ°μ IP μ£Όμ†μ™€ μ—°κ²°λμ–΄ μλ‹¤.
  - μ‚¬μ§„μƒ λ³΄μ΄λ” 3600 μ΄ Caching λλ” μ‹κ°„, μ¦‰ TTL μ„ μλ―Έν•λ‹¤.
  - 3600μ΄, μ¦‰ 1μ‹κ°„λ™μ• μΊμ‹±λλ‹¤.